<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui"/><title>Creating an application for my wedding invitations - Launch</title><meta name="next-head-count" content="3"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/ddfe8ced2405823d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ddfe8ced2405823d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8f46b4f7600beece.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f46b4f7600beece.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/_next/static/chunks/main-f61746aa183f4a64.js" defer=""></script><script src="/_next/static/chunks/pages/_app-97a8db791b55d716.js" defer=""></script><script src="/_next/static/chunks/9f96d65d-c4282c10dbede9d8.js" defer=""></script><script src="/_next/static/chunks/257-27db30c4d5495980.js" defer=""></script><script src="/_next/static/chunks/891-9a51b091cb651577.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5BdirName%5D-63c4d3d87152bc5f.js" defer=""></script><script src="/_next/static/KH3-wYZ478ITV9kjbovcn/_buildManifest.js" defer=""></script><script src="/_next/static/KH3-wYZ478ITV9kjbovcn/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto:wght@400;500;700&display=swap">@font-face{font-family:'Lato';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHvxo.woff) format('woff')}@font-face{font-family:'Lato';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh6UVeww.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Lato';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjx4wXiWtFCc.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh6UVSwaPGQ3q5d0N7w.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/lato/v24/S6u9w4BMUTPHh6UVSwiPGQ3q5d0.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><style>
    #nprogress {
      pointer-events: none;
    }
    #nprogress .bar {
      background: #006ad5;
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
    }
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px #006ad5, 0 0 5px #006ad5;
      opacity: 1;
      -webkit-transform: rotate(3deg) translate(0px, -4px);
      -ms-transform: rotate(3deg) translate(0px, -4px);
      transform: rotate(3deg) translate(0px, -4px);
    }
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }
    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;
      border: solid 2px transparent;
      border-top-color: #006ad5;
      border-left-color: #006ad5;
      border-radius: 50%;
      -webkit-animation: nprogresss-spinner 400ms linear infinite;
      animation: nprogress-spinner 400ms linear infinite;
    }
    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }
    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }
    @-webkit-keyframes nprogress-spinner {
      0% {
        -webkit-transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
      }
    }
    @keyframes nprogress-spinner {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  </style><div id="PostPage" class="page"><div class="box"><header><a class="cursor-pointer hover:underline text-black" href="/"><h2 class="font-accent font-bold text-2xl">Alexandru Prisacariu</h2></a><div class="mt-2 flex gap-2 flex-wrap"><a class="hover:no-underline" href="/"><div class="px-2 py-1 border border-[#3366cc] bg-white hover:border-[#24478f] hover:bg-[#ebf0fa]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="home_svg__icon home_svg__icon-tabler home_svg__icon-tabler-home"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M5 12H3l9-9 9 9h-2M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path><path d="M9 21v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v6"></path></svg></div></a><a class="hover:no-underline" href="/about_me"><div class="px-2 py-1 border border-[#3366cc] bg-white hover:border-[#24478f] hover:bg-[#ebf0fa]">About me</div></a><a class="hover:no-underline" href="/projects"><div class="px-2 py-1 border border-[#3366cc] bg-white hover:border-[#24478f] hover:bg-[#ebf0fa]">Projects</div></a><a class="hover:no-underline" href="/blog/1"><div class="px-2 py-1 border border-[#3366cc] bg-white hover:border-[#24478f] hover:bg-[#ebf0fa]">Blog</div></a><a class="hover:no-underline" href="/cv"><div class="px-2 py-1 border border-[#3366cc] bg-white hover:border-[#24478f] hover:bg-[#ebf0fa]">Resume/CV</div></a></div></header><main class="mt-8 flex flex-col"><a class="text-indigo-700" href="/blog/1">&lt; See more posts</a><h1 class="text-4xl mt-1 mb-2">Creating an application for my wedding invitations - Launch</h1><div class="flex flex-col md:flex-row md:items-center mb-8 md:space-x-3"><div>2 December 2023</div><div class="flex gap-1 flex-wrap"><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#Go</div></a><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#SolidJS</div></a><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#Google Spreadsheet</div></a><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#Bundling</div></a><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#TypeScript</div></a><a class="hover:no-underline cursor-pointer" href="/posts/post012_creating_an_application_for_my_wedding_invitations_part2#"><div class="text-sm px-1 text-white bg-blue-500 hover:bg-blue-400">#DevOps</div></a></div></div><div class="postContent flex flex-col"><p>And it&#x27;s done and up-and-running. I finally launched my wedding invitations
website where my guests will be able to confirm if they are coming or not, but
also to choose if they need some accommodations (like vegetarian food, or if
they need a hotel room).</p>
<h2>Overview</h2>
<p>In this section we will look at the flow of the application, and in the
following sections, we will analyze in more technical depth how I&#x27;ve
implemented some features of the website.</p>
<p>We have two different screens that a guest can see, depending on how I was able
to invite him:</p>
<ol>
<li>If the user was invited online without a physical invitation, he will receive
a link of the following form: <code>website-link.com/invite/[INVITE_CODE]</code>. When
accessed, he will see the next screen:</li>
</ol>
<img src="/imgs/projects/005_and-wedding-invitations/image1.jpeg" class="post-image center medium cursor-pointer"/>
<p>This is a replica of the physical invitation, offering all the information to
the invited person and, at the bottom of the invitation, a button to go to the
confirmation screen.</p>
<ol start="2">
<li>If the user was invited with a physical invitation, he will already have the
<code>INVITE_CODE</code> written on the invitation and the QR code to access the website.
When the invited person accesses the website, he will see the following screen:</li>
</ol>
<img src="/imgs/projects/005_and-wedding-invitations/image2.jpeg" class="post-image center medium cursor-pointer" loading="lazy"/>
<p>Introducing the correct code will redirect the invited person to the
confirmation screen.</p>
<p>Each guest has a unique code.</p>
<p>The confirmation screen that can be seen in the below screenshot is where the
user can confirm that they will come to the wedding or tell us that they will
not be able to attend it.</p>
<img src="/imgs/projects/005_and-wedding-invitations/image5.jpeg" class="post-image center medium cursor-pointer" loading="lazy"/>
<p>If the user clicks on the button to confirm that they will <strong>not</strong> attend the
wedding, he will be redirected to the refused screen, where we say that we are
sad that he will not be able to attend the wedding, but I&#x27;m also giving him
the chance to change his option and confirm that he will attend the wedding.</p>
<img src="/imgs/projects/005_and-wedding-invitations/image6.jpeg" class="post-image center medium cursor-pointer" loading="lazy"/>
<p>If the user clicks on the button that confirms that they will come to the
wedding, I show the options screen where the guest can choose some extra
options:</p>
<ul>
<li>if he requires a vegetarian menu (and how many if there are a couple);</li>
<li>if he comes with a +1/partner (if alone);</li>
<li>if he comes with kids and requires kids&#x27; menus (and how many);</li>
<li>if he needs a hotel overnight.</li>
</ul>
<img src="/imgs/projects/005_and-wedding-invitations/image3.jpeg" class="post-image center medium cursor-pointer" loading="lazy"/>
<p>This is pretty much what an invited person can see and choose on the website.
But how can I add invite codes and set their settings?</p>
<p>For this, I created a simple dashboard where I can add and edit guest settings
using the unique invite code.</p>
<img src="/imgs/projects/005_and-wedding-invitations/image4.jpeg" class="post-image center medium cursor-pointer" loading="lazy"/>
<p>Where&#x27;s the data stored? The tag <code>Google Spreadsheet</code> that I attached to this
post may give that away. Yes, I&#x27;m storing the responses and options chosen by
the users in a Google Spreadsheet. It is free and works very well.</p>
<p>But I also store the changes in a local JSON file as a backup if something bad
happens.</p>
<p>This is a short overview of the main parts of the project, and now we will look
from a technical point of view at how I&#x27;ve done this website.</p>
<h2>The back-end</h2>
<p>The backend was done in Go and is my first complete project in Go. Used
only standard packages, beside the <code>golang.org/x/oauth2</code> and
<code>google.golang.org/api</code> required for Google Spreadsheet.</p>
<p>I created 3 sub-packages for this project:</p>
<ul>
<li><code>api</code> - to handle all the APIs of the website;</li>
<li><code>storage</code> - to handle the storage;</li>
<li><code>web</code> - to handle the general pages of the website.</li>
</ul>
<h3>The <code>storage</code> package</h3>
<p>I will start by talking about the <code>storage</code> package, as I think that is the most
interesting one.</p>
<p>In <code>storage/invitation.go</code> I&#x27;m defining the struct for the invitation, but
I also added a method to the struct called <code>GetDifference</code> that receives another
invitation as a pointer and will return a string with the differences between
the structs. This function comes in handy as I output to the log file when a
change is made by the user to see that everything is good and works as
expected.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>Invitation<span class="token punctuation">)</span> <span class="token function">GetDifference</span><span class="token punctuation">(</span>another <span class="token operator">*</span>Invitation<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>

    <span class="token keyword">if</span> e<span class="token punctuation">.</span>GSheetRowIndex <span class="token operator">!=</span> another<span class="token punctuation">.</span>GSheetRowIndex <span class="token punctuation">{</span>
        result <span class="token operator">+=</span> <span class="token string">&quot;$GSheetRowIndex=&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>another<span class="token punctuation">.</span>GSheetRowIndex<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;;&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div>
<p>After I&#x27;ve defined the structure of the invitation, I&#x27;ve created
<code>storage/invitationsJSONStorage.go</code> that will just define methods
for loading and saving the invitations to the JSON file.</p>
<p>And now comes <code>storage/invitationsGSheetStorage.go</code>, that is
responsible for storing and getting the data from Google
Spreadsheet.</p>
<p>We start by defining the struct where I store the <code>spreadsheetID</code> that I
receive from a master configuration file and also keep the <code>instance</code> we create
by logging to the Google Spreadsheet.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">type</span> InvitationsGSheetStorage <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    spreadsheetID <span class="token builtin">string</span>
    instance <span class="token operator">*</span>sheets<span class="token punctuation">.</span>Service
<span class="token punctuation">}</span>
</code></pre></div>
<p>To make changes to the spreadsheet, I was required to setup a service account
on Google Cloud Console. After creating it, we store in the master configuration
file the email, account key ID and the key of the service account. The last thing
to do is to invite the service account to the spreadsheet and give him
the required permissions to make changes to it.</p>
<p><strong>Tip</strong>: The ID of a spreadsheet is the code that comes after
<code>https://docs.google.com/spreadsheets/d/</code>.</p>
<p>And now I&#x27;m defining the <code>Setup</code> method that handles the connection to the
given spreadsheet. The method receives the data of the service account and the
ID of the spreadsheet. In this method, I create an instance of Google Spreadsheet
using the service account credentials.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>InvitationsGSheetStorage<span class="token punctuation">)</span> <span class="token function">Setup</span><span class="token punctuation">(</span>serviceAccountEmail <span class="token builtin">string</span><span class="token punctuation">,</span> serviceAccountKeyID <span class="token builtin">string</span><span class="token punctuation">,</span> serviceAccountKey <span class="token builtin">string</span><span class="token punctuation">,</span> spreadsheetID <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>spreadsheetID <span class="token operator">=</span> spreadsheetID

    <span class="token comment">// Create a JWT configurations object for the Google service account</span>
    conf <span class="token operator">:=</span> <span class="token operator">&amp;</span>jwt<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>
        Email<span class="token punctuation">:</span>        serviceAccountEmail<span class="token punctuation">,</span>
        PrivateKey<span class="token punctuation">:</span>   <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>serviceAccountKey<span class="token punctuation">)</span><span class="token punctuation">,</span>
        PrivateKeyID<span class="token punctuation">:</span> serviceAccountKeyID<span class="token punctuation">,</span>
        TokenURL<span class="token punctuation">:</span>     <span class="token string">&quot;<a href="https://oauth2.googleapis.com/token" class="token url-link">https://oauth2.googleapis.com/token</a>&quot;</span><span class="token punctuation">,</span>
        Scopes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
            <span class="token string">&quot;<a href="https://www.googleapis.com/auth/spreadsheets" class="token url-link">https://www.googleapis.com/auth/spreadsheets</a>&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    client <span class="token operator">:=</span> conf<span class="token punctuation">.</span><span class="token function">Client</span><span class="token punctuation">(</span>oauth2<span class="token punctuation">.</span>NoContext<span class="token punctuation">)</span>

    <span class="token comment">// Create a service object for Google sheets</span>
    instance<span class="token punctuation">,</span> err <span class="token operator">:=</span> sheets<span class="token punctuation">.</span><span class="token function">NewService</span><span class="token punctuation">(</span>oauth2<span class="token punctuation">.</span>NoContext<span class="token punctuation">,</span> option<span class="token punctuation">.</span><span class="token function">WithHTTPClient</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;[GSheetStorage:Setup][E] Unable to retrieve Sheets client: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    e<span class="token punctuation">.</span>instance <span class="token operator">=</span> instance
<span class="token punctuation">}</span>
</code></pre></div>
<p>I define a private method for reading a single cell. One thing to mention is
that I am using the default name for the first sheet, <code>Sheet1</code>.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e<span class="token operator">*</span> InvitationsGSheetStorage<span class="token punctuation">)</span> <span class="token function">readCell</span><span class="token punctuation">(</span>cell <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Pull the data from the sheet</span>
    resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> e<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>Spreadsheets<span class="token punctuation">.</span>Values<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>spreadsheetID<span class="token punctuation">,</span> <span class="token string">&quot;Sheet1!&quot;</span> <span class="token operator">+</span> cell<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>

    <span class="token comment">// Display pulled data</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Values<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;No value&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> resp<span class="token punctuation">.</span>Values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>While I define more methods in the file, I will only present the method responsible for
updating an invitation in the spreadsheet. The method creates an <code>interface</code>
with the data for the spreadsheet&#x27;s row, and then, using the invitation&#x27;s
<code>GSheetRowIndex</code> (that stores the row index of the invitation in the spreadsheet),
I update that row.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>InvitationsGSheetStorage<span class="token punctuation">)</span> <span class="token function">UpdateInvitation</span><span class="token punctuation">(</span>invitation <span class="token operator">*</span>Invitation<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>invitation<span class="token punctuation">.</span>Code<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>Coming<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>NumberOfPersons<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>NumberOfVegMenus<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>NumberOfKidsMenus<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>LastUpdateTime<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

    <span class="token keyword">var</span> vr sheets<span class="token punctuation">.</span>ValueRange
    vr<span class="token punctuation">.</span>Values <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>vr<span class="token punctuation">.</span>Values<span class="token punctuation">,</span> data<span class="token punctuation">)</span>

    <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> e<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>Spreadsheets<span class="token punctuation">.</span>Values<span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>spreadsheetID<span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>invitation<span class="token punctuation">.</span>GSheetRowIndex<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>vr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ValueInputOption</span><span class="token punctuation">(</span><span class="token string">&quot;RAW&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[GSheetStorage:UpdateInvitation][E] Cannot update the invitation&#x27;s data with code \&quot;&quot;</span> <span class="token operator">+</span> invitation<span class="token punctuation">.</span>Code <span class="token operator">+</span> <span class="token string">&quot;\&quot;. Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[GSheetStorage:UpdateInvitation][E] Invitation data:&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> err
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>In the final part of the <code>storage</code> package section, I want to talk about the
main &quot;class&quot; that takes the above storages and uses them for storing the data.</p>
<p>While there are many methods in this structure, I want only to showcase how the
updating of an invitation is done, which I think is the most interesting part
of all.</p>
<p>First, we have the method <code>UpdateInvitation</code> that takes a pointer to an <code>Invitation</code>
struct, checks if the code of the invitation exists (otherwise throws an error), and
then updates the invitation and calls the method <code>startTimerToUpdateChanges</code> which
is responsible for saving the changes to the JSON file and the spreadsheet.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>InvitationsStorage<span class="token punctuation">)</span> <span class="token function">UpdateInvitation</span><span class="token punctuation">(</span>invitation <span class="token operator">*</span>Invitation<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> index <span class="token builtin">int</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">GetInvitationIndexByCode</span><span class="token punctuation">(</span>invitation<span class="token punctuation">.</span>Code<span class="token punctuation">)</span>
    <span class="token keyword">if</span> index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;Invitation not found&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    e<span class="token punctuation">.</span>invitations<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">*</span>invitation

    e<span class="token punctuation">.</span><span class="token function">startTimerToUpdateChanges</span><span class="token punctuation">(</span>invitation<span class="token punctuation">.</span>Code<span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The method <code>startTimerToUpdateChanges</code> will not update straight-forward the
changes to the JSON file and the spreadsheet (as the name implies). This is
because the API for Google Spreadsheet implies some rates, and I did not want
to exceed those rates, so the method will start a countdown timer that, when
it expires, will save the changes. While the timer is still not expired, all the
required invitations that need to be updated are saved in an array of codes of
invitations.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>InvitationsStorage<span class="token punctuation">)</span> <span class="token function">startTimerToUpdateChanges</span><span class="token punctuation">(</span>changedCode <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        shouldAdd <span class="token operator">:=</span> <span class="token boolean">true</span>
        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> invitationCode <span class="token operator">:=</span> <span class="token keyword">range</span> e<span class="token punctuation">.</span>changedCodesToSave <span class="token punctuation">{</span>
            <span class="token keyword">if</span> invitationCode <span class="token operator">==</span> changedCode <span class="token punctuation">{</span>
                shouldAdd <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> shouldAdd <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span>changedCodesToSave <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>changedCodesToSave<span class="token punctuation">,</span> changedCode<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> e<span class="token punctuation">.</span>saveChangesTimer <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span>saveChangesTimer <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">AfterFunc</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Minute<span class="token punctuation">,</span> e<span class="token punctuation">.</span>saveOnTimerEnd<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The method <code>saveOnTimerEnd</code> is the true one responsible for saving the changes.
The code for it is quite simple:</p>
<ul>
<li>calculate the new hash; (read <a href="#sync">here</a> for more about it)</li>
<li>clone the array of codes of the invitations that have changes so we can reset
it in case new updates come;</li>
<li>save the changes to the JSON file using the <code>InvitationsJSONStorage</code>
structure;</li>
<li>go to each code and try to update it in the Google Spreadsheet:<!-- -->
<ul>
<li>if the update fails, then sleep for 5 seconds before retrying;</li>
<li>try for maximum 3 times;</li>
</ul>
</li>
<li>if all the rows were updated successfully, then try to update the hash
with the new one generated for maximum 3 times.</li>
</ul>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>InvitationsStorage<span class="token punctuation">)</span> <span class="token function">saveOnTimerEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Saving the changes...&quot;</span><span class="token punctuation">)</span>

    newHash <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">CalculateHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    changedCodes <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>changedCodesToSave<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">copy</span><span class="token punctuation">(</span>changedCodes<span class="token punctuation">,</span> e<span class="token punctuation">.</span>changedCodesToSave<span class="token punctuation">)</span>
    e<span class="token punctuation">.</span>saveChangesTimer <span class="token operator">=</span> <span class="token boolean">nil</span>
    e<span class="token punctuation">.</span>changedCodesToSave <span class="token operator">=</span> <span class="token boolean">nil</span>

    err <span class="token operator">:=</span> e<span class="token punctuation">.</span>jsonStorage<span class="token punctuation">.</span><span class="token function">SaveToJSONFile</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">.</span>invitations<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Saved the changes to JSON file.&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    allGood <span class="token operator">:=</span> <span class="token boolean">true</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> invitationCode <span class="token operator">:=</span> <span class="token keyword">range</span> changedCodes <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Saving the changes for code \&quot;&quot;</span> <span class="token operator">+</span> invitationCode <span class="token operator">+</span> <span class="token string">&quot;\&quot; on GSheet...&quot;</span><span class="token punctuation">)</span>

        invitation<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">GetInvitationByCode</span><span class="token punctuation">(</span>invitationCode<span class="token punctuation">)</span>

        invitationGood <span class="token operator">:=</span> <span class="token boolean">false</span>
        tries <span class="token operator">:=</span> <span class="token number">1</span>
        maxTries <span class="token operator">:=</span> <span class="token number">3</span>

        <span class="token keyword">for</span> invitationGood <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> tries <span class="token operator">&lt;=</span> maxTries <span class="token punctuation">{</span>
            err <span class="token operator">:=</span> e<span class="token punctuation">.</span>gsheetStorage<span class="token punctuation">.</span><span class="token function">UpdateInvitation</span><span class="token punctuation">(</span>invitation<span class="token punctuation">)</span> 
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                tries <span class="token operator">+=</span> <span class="token number">1</span>

                <span class="token keyword">if</span> tries <span class="token operator">&lt;=</span> maxTries <span class="token punctuation">{</span>
                    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd][E] Retrying again in 5 seconds to update invitation...&quot;</span><span class="token punctuation">)</span>
                    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd][E] Maximum tries has been reached to update invitation.&quot;</span><span class="token punctuation">)</span>
                    allGood <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                invitationGood <span class="token operator">=</span> <span class="token boolean">true</span>
                log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Saved with success the changes for code \&quot;&quot;</span> <span class="token operator">+</span> invitationCode <span class="token operator">+</span> <span class="token string">&quot;\&quot; on GSheet.&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Sleeping for 1 second.&quot;</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> allGood <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">{</span>
        isGood <span class="token operator">:=</span> <span class="token boolean">false</span>
        tries <span class="token operator">:=</span> <span class="token number">1</span>
        maxTries <span class="token operator">:=</span> <span class="token number">3</span>
        <span class="token keyword">for</span> isGood <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> tries <span class="token operator">&lt;=</span> maxTries <span class="token punctuation">{</span>
            err <span class="token operator">=</span> e<span class="token punctuation">.</span>gsheetStorage<span class="token punctuation">.</span><span class="token function">UpdateHash</span><span class="token punctuation">(</span>newHash<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                tries <span class="token operator">+=</span> <span class="token number">1</span>

                <span class="token keyword">if</span> tries <span class="token operator">&lt;=</span> maxTries <span class="token punctuation">{</span>
                    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd][E] Retrying again to update the hash in 5 seconds...&quot;</span><span class="token punctuation">)</span>
                    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd][E] Maximum tries has been reached to update the hash.&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                isGood <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> isGood <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] Updated the hash on GSheet.&quot;</span><span class="token punctuation">)</span>
            log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd] New hash: \&quot;&quot;</span> <span class="token operator">+</span> newHash <span class="token operator">+</span> <span class="token string">&quot;\&quot;.&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[InvitationsStorage:saveOnTimerEnd][E] Because not all data was uploaded to GSheet not calculating new hash.&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This is pretty much the <code>storage</code> package. While the package still contains
more functionalities, I will not go over them as they are quite generic and not
that interesting.</p>
<h3>The <code>api</code> package</h3>
<p>The <code>api</code> package contains all the APIs for the project. Nothing really
interesting in this package.</p>
<p>I have some admin requests, where in order to check if the requester is
authorized to do those operations, I created the function <code>IsAdmin</code>:</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">IsAdmin</span><span class="token punctuation">(</span>req <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">,</span> sessionsStorage <span class="token operator">*</span>storage<span class="token punctuation">.</span>SessionsStorage<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sessionIDCookie<span class="token punctuation">,</span> err <span class="token operator">:=</span> req<span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;session_id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    sessionID <span class="token operator">:=</span> sessionIDCookie<span class="token punctuation">.</span>Value

    <span class="token keyword">return</span> sessionsStorage<span class="token punctuation">.</span><span class="token function">CheckSession</span><span class="token punctuation">(</span>sessionID<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This function will use the <code>storage/sessionsStorage</code> structure, that is a
simple structure with an array of <code>Session</code>s (a structure with an <code>id</code> as <code>string</code>
and a <code>expireTime</code> as <code>time.Time</code>). The method <code>CheckSession</code> does the
following: check if the session exists, if exists check if the time has not
expired, and, if expired, will delete it and return the error, otherwise, will
add 10 minutes to the <code>expireTime</code>.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>e <span class="token operator">*</span>SessionsStorage<span class="token punctuation">)</span> <span class="token function">CheckSession</span><span class="token punctuation">(</span>sessionID <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> session <span class="token operator">:=</span> <span class="token keyword">range</span> e<span class="token punctuation">.</span>sessions <span class="token punctuation">{</span>
        <span class="token keyword">if</span> session<span class="token punctuation">.</span>id <span class="token operator">==</span> sessionID <span class="token punctuation">{</span>
            <span class="token keyword">if</span> session<span class="token punctuation">.</span>expireTime<span class="token punctuation">.</span><span class="token function">Before</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span>sessions<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>sessions<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sessions<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
                e<span class="token punctuation">.</span>sessions <span class="token operator">=</span> e<span class="token punctuation">.</span>sessions<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sessions<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;Session expired&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            session<span class="token punctuation">.</span>expireTime <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Minute<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">nil</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;Not found&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>And this is how I&#x27;ve done a simple session authentication mechanism for the
admin dashboard side of the project.</p>
<p>Another interesting request is the login request, which after checking that
the password was sent and is correct, will use <code>SessionsStorage</code> to create a
new entry but also set a cookie on the client side with the ID of the session.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">type</span> loginAPI_Body <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Password <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">LoginAPI</span><span class="token punctuation">(</span>server <span class="token operator">*</span>http<span class="token punctuation">.</span>ServeMux<span class="token punctuation">,</span> adminKey <span class="token builtin">string</span><span class="token punctuation">,</span> sessionsStorage <span class="token operator">*</span>storage<span class="token punctuation">.</span>SessionsStorage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	server<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/api/secure/login&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>res http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> req <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> req<span class="token punctuation">.</span>Method <span class="token operator">!=</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">{</span>
			http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Not found&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>

		res<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">var</span> jsonBody loginAPI_Body
        err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>jsonBody<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
            res<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;status\&quot;:false}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> jsonBody<span class="token punctuation">.</span>Password <span class="token operator">!=</span> adminKey <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusUnauthorized<span class="token punctuation">)</span>
            res<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;status\&quot;:false}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        sessionID <span class="token operator">:=</span> sessionsStorage<span class="token punctuation">.</span><span class="token function">CreateSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        sessionCookie <span class="token operator">:=</span> http<span class="token punctuation">.</span>Cookie<span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span> <span class="token string">&quot;session_id&quot;</span><span class="token punctuation">,</span>
            Value<span class="token punctuation">:</span> sessionID<span class="token punctuation">,</span>
            Path<span class="token punctuation">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
            MaxAge<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>

        http<span class="token punctuation">.</span><span class="token function">SetCookie</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">&amp;</span>sessionCookie<span class="token punctuation">)</span>

        res<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;status\&quot;:true}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3>The <code>web</code> package</h3>
<p>The <code>web</code> package is responsible for delivering the HTML pages.</p>
<p>For knowing which user should see what, I went on the simple route of having
the invitation&#x27;s code in the URL itself. This is how I know if a user is
&quot;logged&quot; and who that user is.</p>
<p>I created a very simple HTML template file where <code>&lt;!-- TITLE --&gt;</code> will be
replaced by the title of the page, <code>&lt;!-- SCRIPT_NAME --&gt;</code> by the name of the
script, and <code>&lt;!-- EXTRA_CODE --&gt;</code> with extra code when needed.</p>
<div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ro-RO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preconnect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><a href="https://fonts.googleapis.com" class="token url-link">https://fonts.googleapis.com</a><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preconnect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><a href="https://fonts.gstatic.com" class="token url-link">https://fonts.gstatic.com</a><span class="token punctuation">&quot;</span></span> <span class="token attr-name">crossorigin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><a href="https://fonts.googleapis.com/css2?family=Montserrat&amp;display=swap" class="token url-link">https://fonts.googleapis.com/css2?family=Montserrat&amp;display=swap</a><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- TITLE --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/&lt;!-- SCRIPT_NAME --&gt;.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- EXTRA_CODE --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/&lt;!-- SCRIPT_NAME --&gt;.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>One thing that is done for every route that a guest could reach is saving the
invitation code in a cookie named <code>invitation_code</code>. This way, when a guest
comes back to the website, I will check if the cookie exists and redirect
the user to the required screen.</p>
<p>Let&#x27;s look at the <code>/</code> route:</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">CreateWelcomeRoute</span><span class="token punctuation">(</span>server <span class="token operator">*</span>http<span class="token punctuation">.</span>ServeMux<span class="token punctuation">,</span> utils <span class="token operator">*</span>Utils<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> template <span class="token operator">=</span> utils<span class="token punctuation">.</span><span class="token function">GetHTMLTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;Bine ai venit - Alex&amp;Diana&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;welcome&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> 

    server<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>res http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> req <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> req<span class="token punctuation">.</span>URL<span class="token punctuation">.</span>Path <span class="token operator">!=</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">{</span>
			http<span class="token punctuation">.</span><span class="token function">NotFound</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> req<span class="token punctuation">)</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>

        <span class="token keyword">if</span> req<span class="token punctuation">.</span>Method <span class="token operator">!=</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">{</span>
			http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Not found&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>

        codeCookie<span class="token punctuation">,</span> err <span class="token operator">:=</span> req<span class="token punctuation">.</span><span class="token function">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;invitation_code&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            code <span class="token operator">:=</span> codeCookie<span class="token punctuation">.</span>Value

            <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[/] Found cookie with code: \&quot;&quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;\&quot;. Redirecting to the /c/ page.&quot;</span><span class="token punctuation">)</span>
                http<span class="token punctuation">.</span><span class="token function">Redirect</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> req<span class="token punctuation">,</span> <span class="token string">&quot;/c/&quot;</span> <span class="token operator">+</span> code<span class="token punctuation">,</span> <span class="token number">302</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>


		res<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html; charset=utf-8&quot;</span><span class="token punctuation">)</span>
		res<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>
		res<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The route is very simple: we create the HTML template with the given title and
script name, and in the request I check if the cookie for the invitation&#x27;s code
is set, and if it is, I redirect the user to the &quot;logged&quot; page by redirecting to
<code>/c/[INVITE_CODE]</code>, otherwise serve the welcome page.</p>
<p>A more interesting route would be the <code>/c/[INVITE_CODE]</code> route.</p>
<p>For this route, I keep the <code>&lt;!-- EXTRA_CODE --&gt;</code> inside the template because for
each request, I create a template where I inject as a JavaScript script the data
of the invitation. This way, can serve directly all the data required for
rendering the page without the need to add an additional request for retrieving
the invitation data and also without needing to implement a loading screen.</p>
<div class="remark-highlight"><pre class="language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">generateWithCodeWindowData</span><span class="token punctuation">(</span>invitation <span class="token operator">*</span>storage<span class="token punctuation">.</span>Invitation<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> data <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;&lt;script&gt;window.invitation=&quot;</span>
    
    jsonEncoded<span class="token punctuation">,</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>invitation<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;Error encoding&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    data <span class="token operator">+=</span> <span class="token function">string</span><span class="token punctuation">(</span>jsonEncoded<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;;&lt;/script&gt;&quot;</span>

    <span class="token keyword">return</span> data<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">CreateWithCodeRoute</span><span class="token punctuation">(</span>server <span class="token operator">*</span>http<span class="token punctuation">.</span>ServeMux<span class="token punctuation">,</span> utils <span class="token operator">*</span>Utils<span class="token punctuation">,</span> invitationsStorage <span class="token operator">*</span>storage<span class="token punctuation">.</span>InvitationsStorage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> extraCodeVarName <span class="token operator">=</span> <span class="token string">&quot;&lt;!-- EXTRA_CODE --&gt;&quot;</span>
    <span class="token keyword">var</span> template <span class="token operator">=</span> utils<span class="token punctuation">.</span><span class="token function">GetHTMLTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;Bine ai venit - Alex&amp;Diana&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;with_code&quot;</span><span class="token punctuation">,</span> extraCodeVarName<span class="token punctuation">)</span> 

    path <span class="token operator">:=</span> <span class="token string">&quot;/c/&quot;</span>
    server<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>res http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> req <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> req<span class="token punctuation">.</span>Method <span class="token operator">!=</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">{</span>
			http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&quot;Not found&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>

        invitation<span class="token punctuation">,</span> err <span class="token operator">:=</span> utils<span class="token punctuation">.</span><span class="token function">checkRouteInviteCode</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> req<span class="token punctuation">,</span> invitationsStorage<span class="token punctuation">,</span> path<span class="token punctuation">)</span>

        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        templateInvitationData<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">generateWithCodeWindowData</span><span class="token punctuation">(</span>invitation<span class="token punctuation">)</span>

        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;[/c][E] Something wrong happened at generateWithCodeWindowData:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            http<span class="token punctuation">.</span><span class="token function">Redirect</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> req<span class="token punctuation">,</span> <span class="token string">&quot;/500&quot;</span><span class="token punctuation">,</span> <span class="token number">302</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        utils<span class="token punctuation">.</span><span class="token function">setInvitationCookie</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> invitation<span class="token punctuation">.</span>Code<span class="token punctuation">)</span>

        clientTemplate <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> extraCodeVarName<span class="token punctuation">,</span> templateInvitationData<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

		res<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html; charset=utf-8&quot;</span><span class="token punctuation">)</span>
		res<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>
		res<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>clientTemplate<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The method <code>utils.checkRouteInviteCode</code> checks the invitation&#x27;s code on all the
routes that require it and will automatically redirect the user to the welcome
screen and display an error about it.</p>
<h2>The front-end</h2>
<p>The front-end was done using SolidJS. It has 5 entry points. One for each
screen section, the last one being for the admin dashboard.</p>
<p>I also used TailwindCSS for fast styling of the pages and TypeScript for a better
JavaScript experience.</p>
<p>The design was made to be fully responsible, with a focus on the mobile
experience, because I&#x27;m pretty sure 99% of the invited people will access the
website from a mobile device.</p>
<p>For the bundling of the SolidJS code, I used rollup.js as it was simple to use.
Here is the configuration file I used for bundling using rollup.js. The config
is able to compile all my entry points, each one in an output name with the
same name, so the back-end knows how to load it.</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports">path</span> <span class="token keyword module">from</span> <span class="token string">&quot;node:path&quot;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> fileURLToPath <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;url&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">terser</span> <span class="token keyword module">from</span> <span class="token string">&#x27;@rollup/plugin-terser&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> babel <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@rollup/plugin-babel&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> nodeResolve <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&quot;@rollup/plugin-node-resolve&quot;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">commonjs</span> <span class="token keyword module">from</span> <span class="token string">&#x27;@rollup/plugin-commonjs&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">postcss</span> <span class="token keyword module">from</span> <span class="token string">&#x27;rollup-plugin-postcss&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">tailwindcss</span> <span class="token keyword module">from</span> <span class="token string">&quot;tailwindcss&quot;</span>
<span class="token keyword module">import</span> <span class="token imports">autoprefixer</span> <span class="token keyword module">from</span> <span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">tailwindConfig</span> <span class="token keyword module">from</span> <span class="token string">&quot;./tailwind.config.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> __filename <span class="token operator">=</span> <span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword module">import</span><span class="token punctuation">.</span><span class="token property-access">meta</span><span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> __dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token method function property-access">dirname</span><span class="token punctuation">(</span>__filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.tsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> 
        <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">src/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/index.tsx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
            <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;iife&quot;</span><span class="token punctuation">,</span> 
            <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span> 
            <span class="token literal-property property">file</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;.scss&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extract</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token function">tailwindcss</span><span class="token punctuation">(</span>tailwindConfig<span class="token punctuation">)</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
                <span class="token literal-property property">ignoreGlobal</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;node_modules/solid-js/**&quot;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                extensions<span class="token punctuation">,</span>
                <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;solid&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;@babel/preset-typescript&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">bugfixes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token string">&quot;last 2 years&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">babelHelpers</span><span class="token operator">:</span> <span class="token string">&#x27;bundled&#x27;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token string">&quot;node_modules/**&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">nodeResolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extensions<span class="token punctuation">,</span> <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">[</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&quot;with_code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token string">&quot;classic_invite&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Beside this, there is nothing that interesting on the front-end side of the
project.</p>
<h2 id="sync">Synchronization mechanism for the stored data</h2>
<p>While I&#x27;ve already explained how and where I store the data for the invitations,
I want to talk about how I do the synchronization between the JSON file and the
spreadsheet. While the JSON file that is stored on the server has fewer changes
of being modified manually, the spreadsheet is much more easy to be modified
manually by mistake (I make sure that only the service account has the right
to make changes to the spreadsheet, but who knows?). So I needed to introduce some
synchronization mechanisms.</p>
<p>Because of this, I created a simple synchronization mechanism that stores in the
A1 cell a hash that is calculated from the concatenated data of all the
settings of the invitations.</p>
<p>Every time a change is made to the invitations, the new hash is calculated and
uploaded to the spreadsheet along with the changes.</p>
<p>When the app starts, the hash is checked, and if it does not match the content loaded
from the JSON file, then the app crashes.</p>
<h2>Hosting the application</h2>
<p>The first thing I did when I thought of creating this app was to buy the domain to
be sure that nobody else would take it until the app was done and ready to be
published. So I bought it, but RoTLD (because only they can sell .ro domains)
offers no DNS capabilities.</p>
<p>In the search for a free DNS, I stumbled upon CloudFlare and their free offer.
It was more than enough and also included some caching features for my website
to run faster.</p>
<p>Now that I had the domain and a DNS server, I bought a cheap VPS from a local
company that offered me <strong>1 vCore</strong>, <strong>2 GB RAM</strong> and <strong>20GB ROM</strong> at a
maximum bandwidth of <strong>100 Mb/s</strong> for <strong>8.9 per month</strong>. It&#x27;s quite a good deal
because I know they offer good services with no downtime.</p>
<p>I booted on it <strong>Debian</strong>, and because I didn&#x27;t want to go the route of
creating a Docker image for each release, I&#x27;ve gone the route of
cloning and then pulling the changes from the git repository containing the
project.</p>
<p>So I created the following script:</p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">cd</span> /home/user/and-wedding-invitations
<span class="token function">git</span> pull
<span class="token builtin class-name">cd</span> server
go build <span class="token parameter variable">-o</span> /home/user/server main/main.go
<span class="token function">sudo</span> systemctl restart and-wedding-invitations
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Done&quot;</span>
</code></pre></div>
<p>The script pulls the changes from git, then I build the <code>go</code> application
and simply restart the created service. The compiled files for the front-end
are already stored in the git repository.</p>
<p>Because I wanted the app to restart at every crash and to start if the VPS
would be rebooted for some reason or had any downtime, I created a service:</p>
<div class="remark-highlight"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">Unit</span><span class="token punctuation">]</span>
<span class="token key property">Description</span><span class="token punctuation">=</span>and-wedding-invitations
<span class="token key property">After</span><span class="token punctuation">=</span>network-online<span class="token punctuation">.</span>target
<span class="token key property">Wants</span><span class="token punctuation">=</span>network-online<span class="token punctuation">.</span>target systemd-networkd-wait-online<span class="token punctuation">.</span>service
<span class="token key property">StartLimitIntervalSec</span><span class="token punctuation">=</span><span class="token number">500</span>
<span class="token key property">StartLimitBurst</span><span class="token punctuation">=</span><span class="token number">5</span>

<span class="token punctuation">[</span><span class="token table class-name">Service</span><span class="token punctuation">]</span>
<span class="token key property">Type</span><span class="token punctuation">=</span>simple
<span class="token key property">ExecStart</span><span class="token punctuation">=</span>/home/user/server
<span class="token key property">Environment</span><span class="token punctuation">=</span><span class="token string">&quot;CONFIG_PATH=/home/user/config.and-wedding-invitations.json&quot;</span>
<span class="token key property">Restart</span><span class="token punctuation">=</span>on-failure
<span class="token key property">RestartSec</span><span class="token punctuation">=</span>5s
<span class="token key property">StandardOutput</span><span class="token punctuation">=</span>append:/home/user/and-wedding-invitations-logs/log<span class="token punctuation">.</span>log
<span class="token key property">StandardError</span><span class="token punctuation">=</span>append:/home/user/and-wedding-invitations-logs/error<span class="token punctuation">.</span>log

<span class="token punctuation">[</span><span class="token table class-name">Install</span><span class="token punctuation">]</span>
<span class="token key property">WantedBy</span><span class="token punctuation">=</span>multi-user<span class="token punctuation">.</span>target
</code></pre></div>
<h2>Final word</h2>
<p>I&#x27;m waiting to see how my guests will react to the application and how
many of them will be using it.</p>
<p>I will soon publish a link to the repository for anyone who is interested in
the full code of the project.</p></div></main></div></div><footer class="mt-2 mb-4"><div class="box"> <!-- -->2024<!-- --> Alexandru Prisacariu | Powered by<!-- --> <a class="text-black underline" target="_blank" rel="noreferrer noopener" href="https://nextjs.org">NextJS</a>,<!-- --> <a class="text-black underline" target="_blank" rel="noreferrer noopener" href="https://github.com">GitHub</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Creating an application for my wedding invitations - Launch","tags":["Go","SolidJS","Google Spreadsheet","Bundling","TypeScript","DevOps"],"publishedOn":"2023-12-02T13:11:43.054Z","dirName":"post012_creating_an_application_for_my_wedding_invitations_part2","content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    code: \"code\",\n    strong: \"strong\",\n    ul: \"ul\",\n    h3: \"h3\",\n    div: \"div\",\n    pre: \"pre\",\n    span: \"span\",\n    a: \"a\"\n  }, _provideComponents(), props.components), {ImageOnClickFullscreen} = _components;\n  if (!ImageOnClickFullscreen) _missingMdxReference(\"ImageOnClickFullscreen\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"And it's done and up-and-running. I finally launched my wedding invitations\\nwebsite where my guests will be able to confirm if they are coming or not, but\\nalso to choose if they need some accommodations (like vegetarian food, or if\\nthey need a hotel room).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Overview\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this section we will look at the flow of the application, and in the\\nfollowing sections, we will analyze in more technical depth how I've\\nimplemented some features of the website.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We have two different screens that a guest can see, depending on how I was able\\nto invite him:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"If the user was invited online without a physical invitation, he will receive\\na link of the following form: \", _jsx(_components.code, {\n          children: \"website-link.com/invite/[INVITE_CODE]\"\n        }), \". When\\naccessed, he will see the next screen:\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image1.jpeg\",\n      className: \"post-image center medium cursor-pointer\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is a replica of the physical invitation, offering all the information to\\nthe invited person and, at the bottom of the invitation, a button to go to the\\nconfirmation screen.\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"If the user was invited with a physical invitation, he will already have the\\n\", _jsx(_components.code, {\n          children: \"INVITE_CODE\"\n        }), \" written on the invitation and the QR code to access the website.\\nWhen the invited person accesses the website, he will see the following screen:\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image2.jpeg\",\n      className: \"post-image center medium cursor-pointer\",\n      loading: \"lazy\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Introducing the correct code will redirect the invited person to the\\nconfirmation screen.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each guest has a unique code.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The confirmation screen that can be seen in the below screenshot is where the\\nuser can confirm that they will come to the wedding or tell us that they will\\nnot be able to attend it.\"\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image5.jpeg\",\n      className: \"post-image center medium cursor-pointer\",\n      loading: \"lazy\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If the user clicks on the button to confirm that they will \", _jsx(_components.strong, {\n        children: \"not\"\n      }), \" attend the\\nwedding, he will be redirected to the refused screen, where we say that we are\\nsad that he will not be able to attend the wedding, but I'm also giving him\\nthe chance to change his option and confirm that he will attend the wedding.\"]\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image6.jpeg\",\n      className: \"post-image center medium cursor-pointer\",\n      loading: \"lazy\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If the user clicks on the button that confirms that they will come to the\\nwedding, I show the options screen where the guest can choose some extra\\noptions:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"if he requires a vegetarian menu (and how many if there are a couple);\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"if he comes with a +1/partner (if alone);\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"if he comes with kids and requires kids' menus (and how many);\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"if he needs a hotel overnight.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image3.jpeg\",\n      className: \"post-image center medium cursor-pointer\",\n      loading: \"lazy\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is pretty much what an invited person can see and choose on the website.\\nBut how can I add invite codes and set their settings?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For this, I created a simple dashboard where I can add and edit guest settings\\nusing the unique invite code.\"\n    }), \"\\n\", _jsx(ImageOnClickFullscreen, {\n      src: \"/imgs/projects/005_and-wedding-invitations/image4.jpeg\",\n      className: \"post-image center medium cursor-pointer\",\n      loading: \"lazy\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Where's the data stored? The tag \", _jsx(_components.code, {\n        children: \"Google Spreadsheet\"\n      }), \" that I attached to this\\npost may give that away. Yes, I'm storing the responses and options chosen by\\nthe users in a Google Spreadsheet. It is free and works very well.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"But I also store the changes in a local JSON file as a backup if something bad\\nhappens.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is a short overview of the main parts of the project, and now we will look\\nfrom a technical point of view at how I've done this website.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The back-end\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The backend was done in Go and is my first complete project in Go. Used\\nonly standard packages, beside the \", _jsx(_components.code, {\n        children: \"golang.org/x/oauth2\"\n      }), \" and\\n\", _jsx(_components.code, {\n        children: \"google.golang.org/api\"\n      }), \" required for Google Spreadsheet.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I created 3 sub-packages for this project:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"api\"\n        }), \" - to handle all the APIs of the website;\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"storage\"\n        }), \" - to handle the storage;\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"web\"\n        }), \" - to handle the general pages of the website.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"storage\"\n      }), \" package\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I will start by talking about the \", _jsx(_components.code, {\n        children: \"storage\"\n      }), \" package, as I think that is the most\\ninteresting one.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In \", _jsx(_components.code, {\n        children: \"storage/invitation.go\"\n      }), \" I'm defining the struct for the invitation, but\\nI also added a method to the struct called \", _jsx(_components.code, {\n        children: \"GetDifference\"\n      }), \" that receives another\\ninvitation as a pointer and will return a string with the differences between\\nthe structs. This function comes in handy as I output to the log file when a\\nchange is made by the user to see that everything is good and works as\\nexpected.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"GetDifference\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"another \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" result \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"GSheetRowIndex \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" another\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"GSheetRowIndex \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        result \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"$GSheetRowIndex=\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" strconv\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Itoa\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"another\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"GSheetRowIndex\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\";\\\"\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// ...\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" result\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"After I've defined the structure of the invitation, I've created\\n\", _jsx(_components.code, {\n        children: \"storage/invitationsJSONStorage.go\"\n      }), \" that will just define methods\\nfor loading and saving the invitations to the JSON file.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"And now comes \", _jsx(_components.code, {\n        children: \"storage/invitationsGSheetStorage.go\"\n      }), \", that is\\nresponsible for storing and getting the data from Google\\nSpreadsheet.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We start by defining the struct where I store the \", _jsx(_components.code, {\n        children: \"spreadsheetID\"\n      }), \" that I\\nreceive from a master configuration file and also keep the \", _jsx(_components.code, {\n        children: \"instance\"\n      }), \" we create\\nby logging to the Google Spreadsheet.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"type\"\n          }), \" InvitationsGSheetStorage \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"struct\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    spreadsheetID \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), \"\\n    instance \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"sheets\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Service\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To make changes to the spreadsheet, I was required to setup a service account\\non Google Cloud Console. After creating it, we store in the master configuration\\nfile the email, account key ID and the key of the service account. The last thing\\nto do is to invite the service account to the spreadsheet and give him\\nthe required permissions to make changes to it.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Tip\"\n      }), \": The ID of a spreadsheet is the code that comes after\\n\", _jsx(_components.code, {\n        children: \"https://docs.google.com/spreadsheets/d/\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"And now I'm defining the \", _jsx(_components.code, {\n        children: \"Setup\"\n      }), \" method that handles the connection to the\\ngiven spreadsheet. The method receives the data of the service account and the\\nID of the spreadsheet. In this method, I create an instance of Google Spreadsheet\\nusing the service account credentials.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"InvitationsGSheetStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Setup\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"serviceAccountEmail \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serviceAccountKeyID \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" serviceAccountKey \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" spreadsheetID \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"spreadsheetID \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" spreadsheetID\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Create a JWT configurations object for the Google service account\"\n          }), \"\\n    conf \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \"jwt\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Config\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        Email\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"        serviceAccountEmail\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        PrivateKey\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"   \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"serviceAccountKey\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        PrivateKeyID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" serviceAccountKeyID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        TokenURL\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"     \", _jsxs(_components.span, {\n            className: \"token string\",\n            children: [\"\\\"\", _jsx(_components.a, {\n              href: \"https://oauth2.googleapis.com/token\",\n              className: \"token url-link\",\n              children: \"https://oauth2.googleapis.com/token\"\n            }), \"\\\"\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        Scopes\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            \", _jsxs(_components.span, {\n            className: \"token string\",\n            children: [\"\\\"\", _jsx(_components.a, {\n              href: \"https://www.googleapis.com/auth/spreadsheets\",\n              className: \"token url-link\",\n              children: \"https://www.googleapis.com/auth/spreadsheets\"\n            }), \"\\\"\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    client \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" conf\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Client\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"oauth2\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"NoContext\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Create a service object for Google sheets\"\n          }), \"\\n    instance\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" sheets\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewService\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"oauth2\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"NoContext\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" option\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WithHTTPClient\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"client\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Fatalf\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[GSheetStorage:Setup][E] Unable to retrieve Sheets client: %v\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"instance \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" instance\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I define a private method for reading a single cell. One thing to mention is\\nthat I am using the default name for the first sheet, \", _jsx(_components.code, {\n        children: \"Sheet1\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" InvitationsGSheetStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"readCell\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"cell \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Pull the data from the sheet\"\n          }), \"\\n    resp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"instance\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Spreadsheets\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Get\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"spreadsheetID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Sheet1!\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" cell\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Do\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// Display pulled data\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"len\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"resp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" errors\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"New\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"No value\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" resp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"While I define more methods in the file, I will only present the method responsible for\\nupdating an invitation in the spreadsheet. The method creates an \", _jsx(_components.code, {\n        children: \"interface\"\n      }), \"\\nwith the data for the spreadsheet's row, and then, using the invitation's\\n\", _jsx(_components.code, {\n        children: \"GSheetRowIndex\"\n      }), \" (that stores the row index of the invitation in the spreadsheet),\\nI update that row.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"InvitationsGSheetStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"UpdateInvitation\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    data \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"interface\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Name\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Coming\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"NumberOfPersons\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"NumberOfVegMenus\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"NumberOfKidsMenus\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"LastUpdateTime\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"String\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" vr sheets\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ValueRange\\n    vr\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"append\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"vr\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"_\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"instance\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Spreadsheets\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Values\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Update\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"spreadsheetID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"A\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" strconv\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Itoa\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"GSheetRowIndex\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \"vr\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"ValueInputOption\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"RAW\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Do\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[GSheetStorage:UpdateInvitation][E] Cannot update the invitation's data with code \\\\\\\"\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Code \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\\\\\". Error:\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[GSheetStorage:UpdateInvitation][E] Invitation data:\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" err\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the final part of the \", _jsx(_components.code, {\n        children: \"storage\"\n      }), \" package section, I want to talk about the\\nmain \\\"class\\\" that takes the above storages and uses them for storing the data.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"While there are many methods in this structure, I want only to showcase how the\\nupdating of an invitation is done, which I think is the most interesting part\\nof all.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"First, we have the method \", _jsx(_components.code, {\n        children: \"UpdateInvitation\"\n      }), \" that takes a pointer to an \", _jsx(_components.code, {\n        children: \"Invitation\"\n      }), \"\\nstruct, checks if the code of the invitation exists (otherwise throws an error), and\\nthen updates the invitation and calls the method \", _jsx(_components.code, {\n        children: \"startTimerToUpdateChanges\"\n      }), \" which\\nis responsible for saving the changes to the JSON file and the spreadsheet.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"InvitationsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"UpdateInvitation\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" index \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"int\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"GetInvitationIndexByCode\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" index \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" errors\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"New\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Invitation not found\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"invitations\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"index\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"invitation\\n\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"startTimerToUpdateChanges\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The method \", _jsx(_components.code, {\n        children: \"startTimerToUpdateChanges\"\n      }), \" will not update straight-forward the\\nchanges to the JSON file and the spreadsheet (as the name implies). This is\\nbecause the API for Google Spreadsheet implies some rates, and I did not want\\nto exceed those rates, so the method will start a countdown timer that, when\\nit expires, will save the changes. While the timer is still not expired, all the\\nrequired invitations that need to be updated are saved in an array of codes of\\ninvitations.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"InvitationsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"startTimerToUpdateChanges\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"changedCode \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        shouldAdd \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"for\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"_\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitationCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"range\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" invitationCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" changedCode \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                shouldAdd \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"break\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" shouldAdd \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"append\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" changedCode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"saveChangesTimer \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"saveChangesTimer \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"AfterFunc\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Minute\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"saveOnTimerEnd\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The method \", _jsx(_components.code, {\n        children: \"saveOnTimerEnd\"\n      }), \" is the true one responsible for saving the changes.\\nThe code for it is quite simple:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"calculate the new hash; (read \", _jsx(\"a\", {\n          href: \"#sync\",\n          children: \"here\"\n        }), \" for more about it)\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"clone the array of codes of the invitations that have changes so we can reset\\nit in case new updates come;\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"save the changes to the JSON file using the \", _jsx(_components.code, {\n          children: \"InvitationsJSONStorage\"\n        }), \"\\nstructure;\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"go to each code and try to update it in the Google Spreadsheet:\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"if the update fails, then sleep for 5 seconds before retrying;\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"try for maximum 3 times;\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"if all the rows were updated successfully, then try to update the hash\\nwith the new one generated for maximum 3 times.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"InvitationsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"saveOnTimerEnd\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Saving the changes...\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n    newHash \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CalculateHash\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n    changedCodes \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"make\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"len\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"copy\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"changedCodes\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"saveChangesTimer \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n    e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"changedCodesToSave \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n\\n    err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"jsonStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"SaveToJSONFile\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"invitations\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Saved the changes to JSON file.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    allGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"for\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"_\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitationCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"range\"\n          }), \" changedCodes \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Saving the changes for code \\\\\\\"\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" invitationCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\\\\\" on GSheet...\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"_\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"GetInvitationByCode\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitationCode\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        invitationGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \"\\n        tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n        maxTries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"3\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"for\"\n          }), \" invitationGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\u0026\"\n          }), \" tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c=\"\n          }), \" maxTries \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"gsheetStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"UpdateInvitation\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n\\n                \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c=\"\n          }), \" maxTries \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                    log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd][E] Retrying again in 5 seconds to update invitation...\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                    time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Sleep\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"5\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Second\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                    log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd][E] Maximum tries has been reached to update invitation.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                    allGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                invitationGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \"\\n                log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Saved with success the changes for code \\\\\\\"\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" invitationCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\\\\\" on GSheet.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Sleeping for 1 second.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Sleep\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Second\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" allGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        isGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \"\\n        tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n        maxTries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"3\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"for\"\n          }), \" isGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\u0026\"\n          }), \" tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c=\"\n          }), \" maxTries \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"gsheetStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"UpdateHash\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"newHash\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n\\n                \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" tries \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c=\"\n          }), \" maxTries \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                    log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd][E] Retrying again to update the hash in 5 seconds...\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                    time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Sleep\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"5\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Second\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                    log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd][E] Maximum tries has been reached to update the hash.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                isGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" isGood \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] Updated the hash on GSheet.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd] New hash: \\\\\\\"\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" newHash \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\\\\\".\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"else\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[InvitationsStorage:saveOnTimerEnd][E] Because not all data was uploaded to GSheet not calculating new hash.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This is pretty much the \", _jsx(_components.code, {\n        children: \"storage\"\n      }), \" package. While the package still contains\\nmore functionalities, I will not go over them as they are quite generic and not\\nthat interesting.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"api\"\n      }), \" package\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"api\"\n      }), \" package contains all the APIs for the project. Nothing really\\ninteresting in this package.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I have some admin requests, where in order to check if the requester is\\nauthorized to do those operations, I created the function \", _jsx(_components.code, {\n        children: \"IsAdmin\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"IsAdmin\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"req \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" sessionsStorage \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"storage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"SessionsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"bool\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    sessionIDCookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Cookie\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"session_id\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    sessionID \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" sessionIDCookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Value\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" sessionsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CheckSession\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"sessionID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This function will use the \", _jsx(_components.code, {\n        children: \"storage/sessionsStorage\"\n      }), \" structure, that is a\\nsimple structure with an array of \", _jsx(_components.code, {\n        children: \"Session\"\n      }), \"s (a structure with an \", _jsx(_components.code, {\n        children: \"id\"\n      }), \" as \", _jsx(_components.code, {\n        children: \"string\"\n      }), \"\\nand a \", _jsx(_components.code, {\n        children: \"expireTime\"\n      }), \" as \", _jsx(_components.code, {\n        children: \"time.Time\"\n      }), \"). The method \", _jsx(_components.code, {\n        children: \"CheckSession\"\n      }), \" does the\\nfollowing: check if the session exists, if exists check if the time has not\\nexpired, and, if expired, will delete it and return the error, otherwise, will\\nadd 10 minutes to the \", _jsx(_components.code, {\n        children: \"expireTime\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"SessionsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CheckSession\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"sessionID \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"error\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"for\"\n          }), \" i\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" session \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"range\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" session\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"id \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" sessionID \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" session\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"expireTime\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Before\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Now\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"i\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"len\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n                e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"len\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"e\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"sessions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" errors\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"New\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Session expired\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n            session\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"expireTime \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Now\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Add\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"10\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" time\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Minute\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" errors\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"New\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Not found\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"And this is how I've done a simple session authentication mechanism for the\\nadmin dashboard side of the project.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Another interesting request is the login request, which after checking that\\nthe password was sent and is correct, will use \", _jsx(_components.code, {\n        children: \"SessionsStorage\"\n      }), \" to create a\\nnew entry but also set a cookie on the client side with the ID of the session.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"type\"\n          }), \" loginAPI_Body \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"struct\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    Password \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"LoginAPI\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"server \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ServeMux\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" adminKey \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" sessionsStorage \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"storage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"SessionsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\tserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"HandleFunc\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/api/secure/login\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ResponseWriter\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Method \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"POST\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\\thttp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Not found\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusNotFound\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Header\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Set\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Content-Type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"application/json\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" jsonBody loginAPI_Body\\n        err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" json\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NewDecoder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Body\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Decode\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \"jsonBody\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WriteHeader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusInternalServerError\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Write\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"{\\\\\\\"status\\\\\\\":false}\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" jsonBody\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Password \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" adminKey \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WriteHeader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusUnauthorized\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Write\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"{\\\\\\\"status\\\\\\\":false}\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        sessionID \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" sessionsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CreateSession\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        sessionCookie \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Cookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            Name\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"session_id\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            Value\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" sessionID\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            Path\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            MaxAge\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"600\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"SetCookie\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u0026\"\n          }), \"sessionCookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WriteHeader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusOK\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Write\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"{\\\\\\\"status\\\\\\\":true}\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"web\"\n      }), \" package\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"web\"\n      }), \" package is responsible for delivering the HTML pages.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For knowing which user should see what, I went on the simple route of having\\nthe invitation's code in the URL itself. This is how I know if a user is\\n\\\"logged\\\" and who that user is.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I created a very simple HTML template file where \", _jsx(_components.code, {\n        children: \"\u003c!-- TITLE --\u003e\"\n      }), \" will be\\nreplaced by the title of the page, \", _jsx(_components.code, {\n        children: \"\u003c!-- SCRIPT_NAME --\u003e\"\n      }), \" by the name of the\\nscript, and \", _jsx(_components.code, {\n        children: \"\u003c!-- EXTRA_CODE --\u003e\"\n      }), \" with extra code when needed.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-html\",\n        children: _jsxs(_components.code, {\n          className: \"language-html\",\n          children: [_jsxs(_components.span, {\n            className: \"token doctype\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c!\"\n            }), _jsx(_components.span, {\n              className: \"token doctype-tag\",\n              children: \"doctype\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token name\",\n              children: \"html\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"html\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"lang\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"ro-RO\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"head\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"meta\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"charset\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"utf-8\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"meta\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"name\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"viewport\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"content\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"width=device-width,initial-scale=1\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"/\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"link\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"rel\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"preconnect\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"href\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), _jsx(_components.a, {\n                href: \"https://fonts.googleapis.com\",\n                className: \"token url-link\",\n                children: \"https://fonts.googleapis.com\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"link\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"rel\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"preconnect\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"href\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), _jsx(_components.a, {\n                href: \"https://fonts.gstatic.com\",\n                className: \"token url-link\",\n                children: \"https://fonts.gstatic.com\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"crossorigin\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"link\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"href\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), _jsx(_components.a, {\n                href: \"https://fonts.googleapis.com/css2?family=Montserrat\u0026display=swap\",\n                className: \"token url-link\",\n                children: \"https://fonts.googleapis.com/css2?family=Montserrat\u0026display=swap\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"rel\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"stylesheet\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"title\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"\u003c!-- TITLE --\u003e\"\n          }), _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"title\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"link\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"rel\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"stylesheet\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"href\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"/static/\u003c!-- SCRIPT_NAME --\u003e.css\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"head\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"body\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"div\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"id\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"root\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"div\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"\u003c!-- EXTRA_CODE --\u003e\"\n          }), \"\\n        \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c\"\n              }), \"script\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"src\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"/static/\u003c!-- SCRIPT_NAME --\u003e.js\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"script\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n    \", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"body\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\u003c/\"\n              }), \"html\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"One thing that is done for every route that a guest could reach is saving the\\ninvitation code in a cookie named \", _jsx(_components.code, {\n        children: \"invitation_code\"\n      }), \". This way, when a guest\\ncomes back to the website, I will check if the cookie exists and redirect\\nthe user to the required screen.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Let's look at the \", _jsx(_components.code, {\n        children: \"/\"\n      }), \" route:\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CreateWelcomeRoute\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"server \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ServeMux\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" utils \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" template \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"GetHTMLTemplate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Bine ai venit - Alex\u0026Diana\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"welcome\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \\n\\n    server\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"HandleFunc\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ResponseWriter\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"URL\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Path \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\\thttp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"NotFound\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Method \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"GET\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\\thttp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Not found\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusNotFound\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        codeCookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Cookie\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"invitation_code\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"==\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            code \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" codeCookie\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Value\\n\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"len\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[/] Found cookie with code: \\\\\\\"\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" code \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\\\\\". Redirecting to the /c/ page.\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Redirect\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/c/\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"302\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Header\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Set\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Content-Type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"text/html; charset=utf-8\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WriteHeader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusOK\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Write\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"template\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The route is very simple: we create the HTML template with the given title and\\nscript name, and in the request I check if the cookie for the invitation's code\\nis set, and if it is, I redirect the user to the \\\"logged\\\" page by redirecting to\\n\", _jsx(_components.code, {\n        children: \"/c/[INVITE_CODE]\"\n      }), \", otherwise serve the welcome page.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A more interesting route would be the \", _jsx(_components.code, {\n        children: \"/c/[INVITE_CODE]\"\n      }), \" route.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For this route, I keep the \", _jsx(_components.code, {\n        children: \"\u003c!-- EXTRA_CODE --\u003e\"\n      }), \" inside the template because for\\neach request, I create a template where I inject as a JavaScript script the data\\nof the invitation. This way, can serve directly all the data required for\\nrendering the page without the need to add an additional request for retrieving\\nthe invitation data and also without needing to implement a loading screen.\"]\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-go\",\n        children: _jsxs(_components.code, {\n          className: \"language-go\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generateWithCodeWindowData\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"storage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" data \", _jsx(_components.span, {\n            className: \"token builtin\",\n            children: \"string\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\u003cscript\u003ewindow.invitation=\\\"\"\n          }), \"\\n    \\n    jsonEncoded\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" json\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Marshal\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" errors\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"New\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Error encoding\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n    data \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"string\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"jsonEncoded\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"+\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\";\u003c/script\u003e\\\"\"\n          }), \"\\n\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \" data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"CreateWithCodeRoute\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"server \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ServeMux\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" utils \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"Utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitationsStorage \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"storage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"InvitationsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" extraCodeVarName \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"\u003c!-- EXTRA_CODE --\u003e\\\"\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"var\"\n          }), \" template \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"GetHTMLTemplate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Bine ai venit - Alex\u0026Diana\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"with_code\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" extraCodeVarName\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \\n\\n    path \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/c/\\\"\"\n          }), \"\\n    server\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"HandleFunc\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"path\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"func\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"ResponseWriter\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Method \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"GET\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\\t\\t\\thttp\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Error\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Not found\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusNotFound\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"checkRouteInviteCode\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitationsStorage\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" path\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        templateInvitationData\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generateWithCodeWindowData\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"if\"\n          }), \" err \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"!=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"nil\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n            log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Println\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"[/c][E] Something wrong happened at generateWithCodeWindowData:\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" err\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Redirect\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" req\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"/500\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"302\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"return\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n        utils\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setInvitationCookie\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"res\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" invitation\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"Code\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n        clientTemplate \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":=\"\n          }), \" strings\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Replace\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"template\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" extraCodeVarName\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" templateInvitationData\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Header\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Set\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Content-Type\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"text/html; charset=utf-8\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"WriteHeader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"StatusOK\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\\tres\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"Write\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"byte\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"clientTemplate\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The method \", _jsx(_components.code, {\n        children: \"utils.checkRouteInviteCode\"\n      }), \" checks the invitation's code on all the\\nroutes that require it and will automatically redirect the user to the welcome\\nscreen and display an error about it.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The front-end\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The front-end was done using SolidJS. It has 5 entry points. One for each\\nscreen section, the last one being for the admin dashboard.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I also used TailwindCSS for fast styling of the pages and TypeScript for a better\\nJavaScript experience.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The design was made to be fully responsible, with a focus on the mobile\\nexperience, because I'm pretty sure 99% of the invited people will access the\\nwebsite from a mobile device.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For the bundling of the SolidJS code, I used rollup.js as it was simple to use.\\nHere is the configuration file I used for bundling using rollup.js. The config\\nis able to compile all my entry points, each one in an output name with the\\nsame name, so the back-end knows how to load it.\"\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"path\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"node:path\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token imports\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" fileURLToPath \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'url'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"terser\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'@rollup/plugin-terser'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token imports\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" babel \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'@rollup/plugin-babel'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token imports\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" nodeResolve \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"@rollup/plugin-node-resolve\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"commonjs\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'@rollup/plugin-commonjs'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"postcss\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'rollup-plugin-postcss'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"tailwindcss\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"tailwindcss\\\"\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"autoprefixer\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"autoprefixer\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token imports\",\n            children: \"tailwindConfig\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"from\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"./tailwind.config.js\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" __filename \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"fileURLToPath\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"import\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token property-access\",\n            children: \"meta\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token property-access\",\n            children: \"url\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" __dirname \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" path\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"dirname\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"__filename\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" extensions \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\".ts\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\".tsx\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"function\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token parameter\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token keyword control-flow\",\n            children: \"return\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" \\n        \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"input\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token template-string\",\n            children: [_jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"src/\"\n            }), _jsxs(_components.span, {\n              className: \"token interpolation\",\n              children: [_jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"${\"\n              }), \"name\", _jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"}\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"/index.tsx\"\n            }), _jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"output\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" \\n            \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"format\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"iife\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \\n            \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" name\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \\n            \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"file\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" path\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token method function property-access\",\n            children: \"join\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"__dirname\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"dist\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token template-string\",\n            children: [_jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            }), _jsxs(_components.span, {\n              className: \"token interpolation\",\n              children: [_jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"${\"\n              }), \"name\", _jsx(_components.span, {\n                className: \"token interpolation-punctuation punctuation\",\n                children: \"}\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \".js\"\n            }), _jsx(_components.span, {\n              className: \"token template-punctuation string\",\n              children: \"`\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"sourcemap\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"plugins\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"postcss\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"extensions\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'.scss'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"minimize\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"extract\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"plugins\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"autoprefixer\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"tailwindcss\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"tailwindConfig\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"commonjs\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" \\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"ignoreGlobal\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"false\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"include\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"node_modules/solid-js/**\\\"\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"babel\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n                extensions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"presets\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"solid\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"@babel/preset-typescript\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"@babel/preset-env\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"bugfixes\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"targets\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"last 2 years\\\"\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"babelHelpers\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'bundled'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n                \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"exclude\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"node_modules/**\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"nodeResolve\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" extensions\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"browser\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token literal-property property\",\n            children: \"main\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean\",\n            children: \"true\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n            \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"terser\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n        \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"export\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"default\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"login\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"admin\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"with_code\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"welcome\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n    \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"generate\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"classic_invite\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Beside this, there is nothing that interesting on the front-end side of the\\nproject.\"\n    }), \"\\n\", _jsx(\"h2\", {\n      id: \"sync\",\n      children: \"Synchronization mechanism for the stored data\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"While I've already explained how and where I store the data for the invitations,\\nI want to talk about how I do the synchronization between the JSON file and the\\nspreadsheet. While the JSON file that is stored on the server has fewer changes\\nof being modified manually, the spreadsheet is much more easy to be modified\\nmanually by mistake (I make sure that only the service account has the right\\nto make changes to the spreadsheet, but who knows?). So I needed to introduce some\\nsynchronization mechanisms.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because of this, I created a simple synchronization mechanism that stores in the\\nA1 cell a hash that is calculated from the concatenated data of all the\\nsettings of the invitations.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Every time a change is made to the invitations, the new hash is calculated and\\nuploaded to the spreadsheet along with the changes.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When the app starts, the hash is checked, and if it does not match the content loaded\\nfrom the JSON file, then the app crashes.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Hosting the application\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The first thing I did when I thought of creating this app was to buy the domain to\\nbe sure that nobody else would take it until the app was done and ready to be\\npublished. So I bought it, but RoTLD (because only they can sell .ro domains)\\noffers no DNS capabilities.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In the search for a free DNS, I stumbled upon CloudFlare and their free offer.\\nIt was more than enough and also included some caching features for my website\\nto run faster.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now that I had the domain and a DNS server, I bought a cheap VPS from a local\\ncompany that offered me \", _jsx(_components.strong, {\n        children: \"1 vCore\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"2 GB RAM\"\n      }), \" and \", _jsx(_components.strong, {\n        children: \"20GB ROM\"\n      }), \" at a\\nmaximum bandwidth of \", _jsx(_components.strong, {\n        children: \"100 Mb/s\"\n      }), \" for \", _jsx(_components.strong, {\n        children: \"8.9 per month\"\n      }), \". It's quite a good deal\\nbecause I know they offer good services with no downtime.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I booted on it \", _jsx(_components.strong, {\n        children: \"Debian\"\n      }), \", and because I didn't want to go the route of\\ncreating a Docker image for each release, I've gone the route of\\ncloning and then pulling the changes from the git repository containing the\\nproject.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"So I created the following script:\"\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsx(_components.span, {\n            className: \"token shebang important\",\n            children: \"#!/bin/bash\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token builtin class-name\",\n            children: \"cd\"\n          }), \" /home/user/and-wedding-invitations\\n\", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"git\"\n          }), \" pull\\n\", _jsx(_components.span, {\n            className: \"token builtin class-name\",\n            children: \"cd\"\n          }), \" server\\ngo build \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-o\"\n          }), \" /home/user/server main/main.go\\n\", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"sudo\"\n          }), \" systemctl restart and-wedding-invitations\\n\", _jsx(_components.span, {\n            className: \"token builtin class-name\",\n            children: \"echo\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Done\\\"\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The script pulls the changes from git, then I build the \", _jsx(_components.code, {\n        children: \"go\"\n      }), \" application\\nand simply restart the created service. The compiled files for the front-end\\nare already stored in the git repository.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because I wanted the app to restart at every crash and to start if the VPS\\nwould be rebooted for some reason or had any downtime, I created a service:\"\n    }), \"\\n\", _jsx(_components.div, {\n      className: \"remark-highlight\",\n      children: _jsx(_components.pre, {\n        className: \"language-toml\",\n        children: _jsxs(_components.code, {\n          className: \"language-toml\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token table class-name\",\n            children: \"Unit\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"Description\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"and-wedding-invitations\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"After\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"network-online\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"target\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"Wants\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"network-online\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"target systemd-networkd-wait-online\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"service\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"StartLimitIntervalSec\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"500\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"StartLimitBurst\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"5\"\n          }), \"\\n\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token table class-name\",\n            children: \"Service\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"Type\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"simple\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"ExecStart\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"/home/user/server\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"Environment\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"CONFIG_PATH=/home/user/config.and-wedding-invitations.json\\\"\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"Restart\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"on-failure\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"RestartSec\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"5s\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"StandardOutput\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"append:/home/user/and-wedding-invitations-logs/log\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"log\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"StandardError\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"append:/home/user/and-wedding-invitations-logs/error\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"log\\n\\n\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token table class-name\",\n            children: \"Install\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"token key property\",\n            children: \"WantedBy\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"=\"\n          }), \"multi-user\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"target\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Final word\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I'm waiting to see how my guests will react to the application and how\\nmany of them will be using it.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I will soon publish a link to the repository for anyone who is interested in\\nthe full code of the project.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}},"skip":null},"__N_SSG":true},"page":"/posts/[dirName]","query":{"dirName":"post012_creating_an_application_for_my_wedding_invitations_part2"},"buildId":"KH3-wYZ478ITV9kjbovcn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>